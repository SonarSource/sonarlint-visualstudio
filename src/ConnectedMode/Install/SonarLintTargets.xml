<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <!-- TODO 

        * decide the final root directory location
        * remove the debug Target
        * decide whether to include $(DesignTimeBuild) in the Conditions.
     -->

    <!-- 
      This targets file was added by SonarLint for Visual Studio.
      If you are no longer using SonarLint for Visual Studio then you can safely delete it.
      
      It is only active for builds taking place inside Visual Studio, and does not impact the content of the assembly being built.
 
      Its purpose is to ensure the correct configuration for the Sonar C# and Sonar VB.NET Roslyn rules is used
      when a solution is in Connected Mode i.e. when it is bound to a SonarQube or SonarCloud project.
      
  -->

    <PropertyGroup Condition="$(BuildingInsideVisualStudio) == 'true'">
        <_SolutionDirAsInVs>$([System.IO.Path]::GetDirectoryName($(SolutionDir)))</_SolutionDirAsInVs>
        <_SonarLanguage>$(Language.ToLowerInvariant)</_SonarLanguage>
        <_SonarLanguage Condition=" $(Language) == 'c#'">csharp</_SonarLanguage>
        <_SonarLanguage Condition=" $(Language) == 'visualbasic'">vb</_SonarLanguage>
        <!-- C#/VB.NET settings need to be in different folders -->
        <_SLVSRootFolder>$(APPDATA)\SonarLint for Visual Studio\Bindings\$(SolutionName)_$(_SolutionDirAsInVs.GetHashCode())</_SLVSRootFolder>

        <_SLVSGeneratedRoslynConfigFile>$(_SLVSRootFolder)\$(_SonarLanguage).globalconfig</_SLVSGeneratedRoslynConfigFile>
        <_SLVSGeneratedAdditionalFile>$(_SLVSRootFolder)\$(_SonarLanguage)\SonarLint.xml</_SLVSGeneratedAdditionalFile>
    </PropertyGroup>

    <ItemGroup Condition="$(BuildingInsideVisualStudio) == 'true' AND Exists($(_SLVSGeneratedRoslynConfigFile))">
        <EditorConfigFiles Condition="Exists($(_SLVSGeneratedRoslynConfigFile))" Include="$(_SLVSGeneratedRoslynConfigFile)" />
        <AdditionalFiles Condition="Exists($(_SLVSGeneratedAdditionalFile))" Include="$(_SLVSGeneratedAdditionalFile)" />
    </ItemGroup>
</Project>
