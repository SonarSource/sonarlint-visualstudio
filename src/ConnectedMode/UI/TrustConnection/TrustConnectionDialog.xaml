<Window x:Class="SonarLint.VisualStudio.ConnectedMode.UI.TrustConnection.TrustConnectionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:res="clr-namespace:SonarLint.VisualStudio.ConnectedMode.UI.Resources"
        xmlns:ui="clr-namespace:SonarLint.VisualStudio.ConnectedMode.UI"
        xmlns:connectionDisplay="clr-namespace:SonarLint.VisualStudio.ConnectedMode.UI.ConnectionDisplay"
        xmlns:links="clr-namespace:SonarLint.VisualStudio.Core;assembly=SonarLint.VisualStudio.Core"
        xmlns:vsShell="clr-namespace:Microsoft.VisualStudio.Shell;assembly=Microsoft.VisualStudio.Shell.15.0"
        Title="{x:Static res:UiResources.TrustConnectionDialogTitle}"
        Height="400"
        MinHeight="400"
        WindowStartupLocation="CenterOwner"
        x:Name="This">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary
                    Source="pack://application:,,,/SonarLint.VisualStudio.ConnectedMode;component/UI/Resources/Styles.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Window.Style>
        <Style TargetType="Window" BasedOn="{StaticResource ConnectedModeWindow}" />
    </Window.Style>

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Margin="0,10">
            <Run Text="{x:Static res:UiResources.TrustConnectionDescriptionText}" />
            <Hyperlink NavigateUri="{x:Static links:DocumentationLinks.ConnectedModeBenefitsUri}" RequestNavigate="ViewWebsite">features and benefits</Hyperlink>
        </TextBlock>

        <Grid Grid.Row="1" VerticalAlignment="Center">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Grid Grid.Row="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Text="{x:Static res:UiResources.TrustConnectionServerUrl}" Margin="0,5"/>
                <Border Grid.Row="1" BorderBrush="{DynamicResource {x:Static vsShell:VsBrushes.ActiveBorderKey}}" BorderThickness="1" Height="30"
                        Background="{Binding ElementName=ConnectionsComboBox, Path=Background}">
                    <TextBlock VerticalAlignment="Center" Padding="5,0">
                        <InlineUIContainer Style="{StaticResource ConnectionInfoInlineWrapper}">
                            <connectionDisplay:ConnectionInfoComponent ConnectionInfo="{Binding ElementName=This, Path=ConnectionInfo}"/>
                        </InlineUIContainer>
                    </TextBlock>
                </Border>
            </Grid>

            <ui:WarningMessage Grid.Row="1" WarningText="{x:Static res:UiResources.TrustConnectionWarningText}" Margin="0,10"></ui:WarningMessage>
        </Grid>

        <TextBlock Grid.Row="2" Text="{x:Static res:UiResources.TrustConnectionTokenInfoText}" Margin="0,20" FontStyle="Italic"/>

        <Grid Grid.Row="3" HorizontalAlignment="Right">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Button Grid.Column="0" Content="{x:Static res:UiResources.DoNotTrustServerButton}" IsCancel="True"/>
            <Button Grid.Column="1" Content="{x:Static res:UiResources.TrustServerButton}" IsDefault="True" Click="TrustServerButton_OnClick" />
        </Grid>
    </Grid>
</Window>